<div class="container" style="height: 100%;">
  <div class="card p-2" style="min-height: 600px;">
    <div *ngIf="customer.id !== undefined" class="pl-3 m-2">
      <i>{{customer.name}}</i>
      <button (click)="clearCart()" class="btn btn-danger btn-sm">clear</button>
    </div>
    <ul class="list-group">

      <table class="table" *ngIf="customer.id !== undefined">
        <thead>
          <tr>
            <th scope="col">Product</th>
            <th scope="col">Unit price</th>
            <th scope="col">Qty.</th>
            <th scope="col">Subtotal</th>
          </tr>
        </thead>
        <tbody *ngIf="orderDetails.length > 0">
          <tr *ngFor="let orderDetail of orderDetails">
            <td>{{orderDetail.product.name}}</td>
            <td>{{orderDetail.product.price | currency:'&#8377;'}}</td>
            <td>
              <button *ngIf="!togglePaymentOptions" (click)="incrementProductQuantity(orderDetail)" class="btn btn-primary btn-sm">+</button>
              {{orderDetail.quantity}}
              <button *ngIf="!togglePaymentOptions" (click)="decrementProductQuantity(orderDetail)" class="btn btn-primary btn-sm">-</button>
            </td>
            <td>{{orderDetail.quantity * orderDetail.product.price | currency:'&#8377;'}}</td>
          </tr>
        </tbody>
      </table>

      <li class="list-group-item">
        Subtotal
        <div style="float: right;">{{subtotal | currency:'&#8377;'}}</div>
      </li>
      <li class="list-group-item">
        Tax
        <div style="float: right;">{{tax | currency:'&#8377;'}}</div>
      </li>
      <li class="list-group-item">
        Grand Total
        <div style="float: right;">{{total | currency:'&#8377;'}}</div>
      </li>
    </ul>

    <button class="btn btn-primary form-control" style="margin-top: 100px;" *ngIf="!togglePaymentOptions" (click)="togglePaymentOptions=true">Checkout</button>


    <!-- To be displayed on click on checkout -->
    <div class="card p-2 m-2" *ngIf="togglePaymentOptions">
      <div class="form-inline">
        Payment Mode :
        <select class="form-control" #paymentMode>
          <option *ngFor="let mode of paymentModes" [value]="mode.value">{{mode.name}}</option>
        </select>
      </div>

      <div class="form-inline">
        <button class="btn btn-secondary m-2" (click)="saveOrder(paymentMode.value)">Save Order</button>
        <button class="btn btn-primary m-2" (click)="placeOrder(paymentMode.value)">Place Order</button>
      </div>
    </div>
  </div>


</div>
